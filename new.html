<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
    <title>RPS|GAMEPLAY</title>
  </head>
  <body>
    <!-- <input id="user" type="select"> -->
    <h1 id="heading">The ROCK,PAPER,SCISSOR Game</h1>
    <p id="User_name"></p>
    <!-- <div id="displayitem"> -->
      <p id="comp">COMPUTER</p>
      <p id="vs">VS</p>
      <p id="user"></p>
    <!-- </div>  -->
    <div id="score">
      <p>SCORE:</p>
      <p id="compscore"></p>
      <p id="userscore"></p>
    </div>
    <div class="image">
      <img src="./img/computer.jpg" alt="comp" id="mycompimg">
      <img src="./img/user.png" alt="user" id="myuserimg">
    </div>
    <div id="optionselection">
        <button id="rock" onclick='gameloop("ROCK")'>ROCK</button>
        <button id="paper" onclick='gameloop("PAPER")'>PAPER</button>
        <button id="scissor" onclick='gameloop("SCISSOR")'>SCISSOR</button>
    </div>
    <!-- <select
      name="userselection"
      id="selected_by_user"
    >
      <option>Choose</option>
      <option>ROCK</option>
      <option>PAPER</option>
      <option>SCISSOR</option>
    </select> -->
    <div id="status">
      <p id="curstat">Current Status:</p>
      <p id="won"></p>
      <p id="matchstat">Match Status:</p>
      <p id="winning"></p>
    </div>

    <script>
      let d = prompt("To Begin the Game please Enter your Name", "Someone");

      if (d != null) {
        document.getElementById("User_name").innerHTML =
          "Welcome " + d + " !!!";
        document.getElementById("user").innerHTML = d.toUpperCase();
      }

      const compsel = ["ROCK", "PAPER", "SCISSOR"];  

      function getRndInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
      }

      function setimage(val, compcho){
        switch(val){
          case "ROCK" : document.getElementById('myuserimg').src='./img/rouser.jpg';
          break;
          case "PAPER" : document.getElementById('myuserimg').src='./img/pauser.jpg';
          break;
          case "SCISSOR" : document.getElementById('myuserimg').src='./img/sciuser.jpg';
          break;
        }
       
        switch(compcho){
          case "ROCK" : document.getElementById('mycompimg').src='./img/rocomp.jpg';
          break;
          case "PAPER" : document.getElementById('mycompimg').src='./img/pacomp.jpg';
          break;
          case "SCISSOR" : document.getElementById('mycompimg').src='./img/scicomp.jpg';
          break;
        }
      }

      function result(val,compcho){
        if(val=="ROCK" && compcho=="PAPER"){
          return 1;
        }
        else if(compcho=="ROCK" && val=="PAPER"){
          return 0;
        }
        else if(val=="PAPER" && compcho=="SCISSOR"){
          return 1;
        }
        else if(val=="SCISSOR" && compcho=="PAPER"){
          return 0;
        }
        else if(val=="ROCK" && compcho=="SCISSOR"){
          return 0;
        }
        else if(val=="SCISSOR" && compcho=="ROCK"){
          return 1;
        }
        else if(val==compcho){
          return -1;
        }

      }

      let compsc=0;
      let usersc=0;

      function gameloop(val){
        // console.log(val)
        let compcho = compsel[getRndInt(0,3)];
        let optval = val;
        setimage(val,compcho);
        let wonsc = result(val,compcho);
        console.log(wonsc);
        if(wonsc==1){
          compsc+=1;
          document.getElementById("won").innerHTML="COMPUTER WON";
          document.getElementById("compscore").innerHTML="COMPUTER: "+compsc;
          document.getElementById("userscore").innerHTML="YOU: "+usersc;
        }
        else if(wonsc==0){
          usersc+=1;
          document.getElementById("won").innerHTML="YOU WON";
          document.getElementById("compscore").innerHTML="COMPUTER: "+compsc;
          document.getElementById("userscore").innerHTML="YOU: "+usersc;
        }
        else if(wonsc==-1){
          document.getElementById("won").innerHTML="It's a TIE";
          document.getElementById("compscore").innerHTML="COMPUTER: "+compsc;
          document.getElementById("userscore").innerHTML="YOU: "+usersc;
        }
        if(usersc>compsc){
          document.getElementById("winning").innerHTML="YOU are Winning ðŸ˜ƒ"  
        }
        else if(compsc>usersc){
          document.getElementById("winning").innerHTML="COMPUTER is Winning ðŸ¤• "  
        }
        else{
          document.getElementById("winning").innerHTML="Fiercy battle going on common u got this ðŸ¥³"  
        }
        let play =[optval,compcho];
        console.log(play);
        console.log(play[0],play[1]);
      }
      
    //   var optval="some";
    //   function uselectedopt() {
    //     let opt = document.getElementById("selected_by_user");
    //     document.getElementById("uselected").innerHTML =
    //       opt.options[opt.selectedIndex].text;
    //     // console.log(opt.value);
    //     // console.log(compcho);
    //     optval=opt.value;
    //     // return [opt.value,compcho];
    //     // return opt.value;
    //   }
      
    //   for(i=0;i<3;i++){
    //   let al = alert("Your Turn");
    //   let a =document.getElementById("selected_by_user");
    //   a.addEventListener('change',uselectedopt(),false);

    //   let opt = document.getElementById("selected_by_user");
    //   console.log(optval);
    //   let compcho = compsel[getRndInt(0,3)];
    // //   let optval=uselectedopt();
    //   let play =[optval,compcho];
    //   console.log(play);
    //   console.log(play[0],play[1])
    // }

    </script>
  </body>
</html>
